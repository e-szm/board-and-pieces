(()=>{"use strict";function e(e,t){const s=e.querySelector("fieldset"),n=e.querySelector(".btn-submit");s.removeAttribute("disabled"),n.removeAttribute("disabled"),n.textContent=t}function t(e,t){if(!e||!t)throw new Error("Alert requires a type and message");const s=document.querySelector("body"),n=document.createElement("div");n.classList.add("alert",`alert--${e}`);const r=document.createElement("p");r.classList.add("content"),r.textContent=t,n.append(r),s.append(n),setTimeout((()=>n.remove()),5e3)}async function s(s){s.preventDefault(),function(e,t){const s=e.querySelector("fieldset"),n=e.querySelector(".btn-submit");s.setAttribute("disabled","true"),n.setAttribute("disabled","true"),n.textContent="Changing..."}(this);const n=document.getElementById("current-password").value,r=document.getElementById("new-password").value,o=document.getElementById("confirm-password").value;if(r!==o)return t("error","Passwords must match."),void e(this,"Change Password");const a=await async function(e){const t=new Headers;t.append("Content-Type","application/json");const s=JSON.stringify(e);return await fetch("/api/v1/users/change-my-password",{method:"PATCH",headers:t,body:s})}({oldPassword:n,newPassword:r,newPasswordConfirm:o}),d=await a.json();if(!a.ok||200!==a.status)return t("error",d.message),void e(this,"Change Password");t("success","Password changed successfully!"),this.querySelectorAll("input").forEach((e=>e.value="")),e(this,"Change Password"),location.reload(!0)}!function(){const e=document.querySelector(".form--password");e?e.addEventListener("submit",s):t("error","Oops! Please try again later.")}()})();
//# sourceMappingURL=bundle_account_e4d4a4a5a10434d90844.js.map