(()=>{"use strict";function e(e,t){const n=e.querySelector("fieldset"),o=e.querySelector(".btn-submit");n.removeAttribute("disabled"),o.removeAttribute("disabled"),o.textContent=t}function t(e,t){if(!e||!t)throw new Error("Alert requires a type and message");const n=document.querySelector("body"),o=document.createElement("div");o.classList.add("alert",`alert--${e}`);const s=document.createElement("p");s.classList.add("content"),s.textContent=t,o.append(s),n.append(o),setTimeout((()=>o.remove()),5e3)}async function n(n){n.preventDefault(),function(e,t){const n=e.querySelector("fieldset"),o=e.querySelector(".btn-submit");n.setAttribute("disabled","true"),o.setAttribute("disabled","true"),o.textContent="Logging in..."}(this);const o=document.getElementById("email").value.toLowerCase(),s=document.getElementById("password").value,r=await async function(e){const t=new Headers;t.append("Content-Type","application/json");const n=JSON.stringify(e);return await fetch("/api/v1/users/login",{method:"POST",headers:t,body:n})}({email:o,password:s}),i=await r.json();if(!r.ok||200!==r.status)return t("error",i.message),void e(this,"Log In");this.querySelectorAll("input").forEach((e=>e.value="")),t("success","Login successful! You are being redirected..."),location.assign("/dashboard"),e(this,"Log In")}!function(){const e=document.querySelector(".form--login");e?e.addEventListener("submit",n):t("error","Oops! Please try again later.")}()})();
//# sourceMappingURL=bundle_login_c7aece73566ede08bcfd.js.map