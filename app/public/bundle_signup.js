(()=>{"use strict";function e(e,t){const n=e.querySelector("fieldset"),r=e.querySelector(".btn-submit");n.removeAttribute("disabled"),r.removeAttribute("disabled"),r.textContent=t}function t(e,t){if(!e||!t)throw new Error("Alert requires a type and message");const n=document.querySelector("body"),r=document.createElement("div");r.classList.add("alert",`alert--${e}`);const s=document.createElement("p");s.classList.add("content"),s.textContent=t,r.append(s),n.append(r),setTimeout((()=>r.remove()),5e3)}async function n(n){n.preventDefault(),function(e,t){const n=e.querySelector("fieldset"),r=e.querySelector(".btn-submit");n.setAttribute("disabled","true"),r.setAttribute("disabled","true"),r.textContent="Creating..."}(this);const r=document.getElementById("email").value.toLowerCase(),s=document.getElementById("username").value.toLowerCase(),o=document.getElementById("password").value,a=document.getElementById("confirm-password").value;if(o!==a)return t("error","Passwords must match."),void e(this,"Create Account");const c=await async function(e){const t=new Headers;t.append("Content-Type","application/json");const n=JSON.stringify(e);return await fetch("/api/v1/users/signup",{method:"POST",headers:t,body:n})}({email:r,username:s,password:o,confirm_password:a}),u=await c.json();if(!c.ok||201!==c.status)return t("error",u.message),void e(this,"Create Account");this.querySelectorAll("input").forEach((e=>e.value="")),t("success","Account created successfully! You are being redirected..."),location.assign("/dashboard"),e(this,"Create Account")}!function(){const e=document.querySelector(".form--signup");e?e.addEventListener("submit",n):t("error","Oops! Please try again later.")}()})();
//# sourceMappingURL=bundle_signup.js.map